import os
import asyncio
import logging
from aiogram import Bot, Dispatcher, types, F, Router
from aiogram.enums import ParseMode
from aiogram.filters import CommandStart
from aiogram.types import InlineKeyboardMarkup, InlineKeyboardButton, FSInputFile
from keep_alive import keep_alive

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å–≤–æ–∏ –∑–Ω–∞—á–µ–Ω–∏—è –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
API_TOKEN = os.getenv("API_TOKEN")
ADMIN_ID = os.getenv("ADMIN_ID")

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–≥–µ—Ä–∞
logging.basicConfig(level=logging.INFO)

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–æ—Ç–∞ –∏ –¥–∏—Å–ø–µ—Ç—á–µ—Ä–∞
bot = Bot(token=API_TOKEN)
dp = Dispatcher()
router = Router()
dp.include_router(router)

# –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é
main_menu = InlineKeyboardMarkup(inline_keyboard=[
    [InlineKeyboardButton(text="üì± –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏", callback_data="about_app")],
    [InlineKeyboardButton(text="üíº –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ —Ñ—Ä–∞–Ω—à–∏–∑–µ", callback_data="franchise_step_1")],
    [InlineKeyboardButton(text="üé• –°–º–æ—Ç—Ä–µ—Ç—å –≤–∏–¥–µ–æ", callback_data="watch_video")],
    [InlineKeyboardButton(text="üìÑ –°–∫–∞—á–∞—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é", callback_data="download_presentation")],
    [InlineKeyboardButton(text="üìù –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É", callback_data="send_request")]
])

# –°—Ç–∞—Ä—Ç–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ
@router.message(CommandStart())
async def start_handler(message: types.Message):
    text = (
        "üì± <b>Good Day</b> ‚Äî —ç—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏,\n"
        "–Ω–æ –∫–ª—é—á–µ–≤—ã–º –∏ –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–º –≤—Å—ë —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—à–µ <b>–º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</b>.\n\n"
        "–ú—ã –≤—ã–±—Ä–∞–ª–∏ –∏–º–µ–Ω–Ω–æ —ç—Ç–æ—Ç —Ñ–æ—Ä–º–∞—Ç, –≤–µ–¥—å <b>—Å–º–∞—Ä—Ç—Ñ–æ–Ω ‚Äî —Å–ø—É—Ç–Ω–∏–∫ –∫–∞–∂–¥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞</b> üì≤"
    )
    await message.answer(text, parse_mode=ParseMode.HTML, reply_markup=main_menu)

# –ü–æ–¥—Ä–æ–±–Ω–µ–µ –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏
@router.callback_query(F.data == "about_app")
async def about_app(callback: types.CallbackQuery):
    text = (
        "üì± <b>Good Day</b> ‚Äî —ç—Ç–æ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–º–æ–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º —ç–∫–æ–Ω–æ–º–∏—Ç—å –≤—Ä–µ–º—è –∏ –¥–µ–Ω—å–≥–∏.\n\n"
        "üë• <b>–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</b>\n"
        "‚Ä¢ –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–∫–∏–¥–∫–∏ –∏ –∞–∫—Ü–∏–∏\n"
        "‚Ä¢ –≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –∫–∞—Ä—Ç–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏\n"
        "‚Ä¢ –î–∏—Å–∫–æ–Ω—Ç–Ω—ã–µ –∫–∞—Ä—Ç—ã\n"
        "‚Ä¢ –û–Ω–ª–∞–π–Ω-–∑–∞–ø–∏—Å—å –∫ –º–∞—Å—Ç–µ—Ä–∞–º\n"
        "‚Ä¢ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –∫–∞—Ä—Ç–∞ —Å –ø–∞—Ä—Ç–Ω—ë—Ä–∞–º–∏\n\n"
        "üè¢ <b>–î–ª—è –±–∏–∑–Ω–µ—Å–∞:</b>\n"
        "‚Ä¢ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–π –∫–∞–Ω–∞–ª –ø—Ä–æ–¥–≤–∏–∂–µ–Ω–∏—è\n"
        "‚Ä¢ –ü—Ä–æ–≥—Ä–∞–º–º–∞ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏\n"
        "‚Ä¢ Push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —Å—Ç–æ—Ä–∏—Å\n"
        "‚Ä¢ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á—ë—Ç—ã\n\n"
        "üìä –ù–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç:\n"
        "‚Ä¢ 23 000+ —Å–∫–∞—á–∏–≤–∞–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n"
        "‚Ä¢ 15 500+ –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π\n"
        "‚Ä¢ 2 200+ –±–∏–∑–Ω–µ—Å–æ–≤-–ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤"
    )
    await callback.message.answer(text, parse_mode=ParseMode.HTML, reply_markup=main_menu)
    await callback.answer()

# –ü–æ—à–∞–≥–æ–≤–∞—è –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è —Ñ—Ä–∞–Ω—à–∏–∑—ã
franchise_steps = {
    "franchise_step_1": {
        "text": (
            "üíº <b>–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ñ—Ä–∞–Ω—à–∏–∑—ã Good Day:</b>\n\n"
            "‚Ä¢ –ë—ã—Å—Ç—Ä–∞—è –æ–∫—É–ø–∞–µ–º–æ—Å—Ç—å: 2‚Äì4 –º–µ—Å—è—Ü–∞\n"
            "‚Ä¢ –≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ—Å—Ç—å –≤ —Ä–µ–≥–∏–æ–Ω–µ\n"
            "‚Ä¢ –ì–æ—Ç–æ–≤–æ–µ IT-—Ä–µ—à–µ–Ω–∏–µ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é –±–æ–ª–µ–µ $40 000\n"
            "‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –æ–±—É—á–µ–Ω–∏–µ\n"
            "‚Ä¢ –†–∞–±–æ—Ç–∞ –±–µ–∑ –æ—Ñ–∏—Å–∞ –∏ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞\n"
            "‚Ä¢ –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥ –æ—Ç 4 000 BYN –≤ –º–µ—Å—è—Ü"
        ),
        "next": "franchise_step_2"
    },
    "franchise_step_2": {
        "text": (
            "üéØ <b>–ù–∞—à–∞ —Ü–µ–ª—å:</b>\n\n"
            "–°–æ–±—Ä–∞—Ç—å –¥—Ä—É–∂–Ω—É—é –∏ —Å–ø–ª–æ—á—ë–Ω–Ω—É—é –∫–æ–º–∞–Ω–¥—É —Ñ—Ä–∞–Ω—á–∞–π–∑–∏ –ø–æ –≤—Å–µ–º –≥–æ—Ä–æ–¥–∞–º –†–æ—Å—Å–∏–∏ –∏ –ë–µ–ª–∞—Ä—É—Å–∏, "
            "—á—Ç–æ–±—ã –≤–º–µ—Å—Ç–µ —Ä–∞–∑–≤–∏–≤–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –∏ –ø—Ä–∏–Ω–æ—Å–∏—Ç—å –ø–æ–ª—å–∑—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∏ –±–∏–∑–Ω–µ—Å—É."
        ),
        "next": "franchise_step_3"
    },
    "franchise_step_3": {
        "text": (
            "üìç <b>–≠–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ—Å—Ç—å:</b>\n\n"
            "–ö–∞–∂–¥—ã–π —Ñ—Ä–∞–Ω—á–∞–π–∑–∏ –ø–æ–ª—É—á–∞–µ—Ç —ç–∫—Å–∫–ª—é–∑–∏–≤–Ω–æ–µ –ø—Ä–∞–≤–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å Good Day –≤ —Å–≤–æ—ë–º –≥–æ—Ä–æ–¥–µ. "
            "–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏ –∏ –ø–æ–ª–Ω—É—é –ø–æ–¥–¥–µ—Ä–∂–∫—É —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –≥–æ–ª–æ–≤–Ω–æ–≥–æ –æ—Ñ–∏—Å–∞."
        ),
        "next": "franchise_step_4"
    },
    "franchise_step_4": {
        "text": (
            "ü§ù <b>–°–∏—Å—Ç–µ–º–∞ Win-Win-Win:</b>\n\n"
            "‚Ä¢ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –≤—ã–≥–æ–¥–Ω—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏ —ç–∫–æ–Ω–æ–º–∏—Ç –¥–µ–Ω—å–≥–∏.\n"
            "‚Ä¢ –ë–∏–∑–Ω–µ—Å –ø—Ä–∏–≤–ª–µ–∫–∞–µ—Ç –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤ –∏ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –ø—Ä–æ–¥–∞–∂–∏.\n"
            "‚Ä¢ –§—Ä–∞–Ω—á–∞–π–∑–∏ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –ø–æ–¥–ø–∏—Å–∫–∞—Ö –∏ —Ä–µ–∫–ª–∞–º–µ.\n\n"
            "–í—Å–µ —Å—Ç–æ—Ä–æ–Ω—ã –≤—ã–∏–≥—Ä—ã–≤–∞—é—Ç!"
        ),
        "next": "franchise_step_5"
    },
    "franchise_step_5": {
        "text": (
            "üí∞ <b>–ö–∞–∫ –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —Ñ—Ä–∞–Ω—á–∞–π–∑–∏:</b>\n\n"
            "‚Ä¢ –ü–æ–¥–ø–∏—Å–∫–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n"
            "‚Ä¢ –ü–ª–∞—Ç–Ω—ã–µ —Å—Ç–æ—Ä–∏—Å –∏ push-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n"
            "‚Ä¢ –ü—Ä–æ–¥–≤–∏–∂–µ–Ω–∏–µ –ø–∞—Ä—Ç–Ω—ë—Ä–æ–≤ –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ¬´–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ¬ª\n"
            "‚Ä¢ –†–∞–∑–º–µ—â–µ–Ω–∏–µ –∞–∫—Ü–∏–π –∏ —Å–æ–±—ã—Ç–∏–π –≤ —Ä–∞–∑–¥–µ–ª–µ –Ω–æ–≤–æ—Å—Ç–µ–π"
        ),
        "next": "franchise_step_6"
    },
    "franchise_step_6": {
        "text": (
            "üßë‚Äçüíº <b>–£ –Ω–∞—à–µ–≥–æ —Ñ—Ä–∞–Ω—á–∞–π–∑–∏ –≤—Å–µ–≥–æ 2 –∑–∞–¥–∞—á–∏:</b>\n\n"
            "1. –ü–æ–¥–∫–ª—é—á–∞—Ç—å –º–µ—Å—Ç–Ω—ã–µ –±–∏–∑–Ω–µ—Å—ã –∫ –ø–ª–∞—Ç—Ñ–æ—Ä–º–µ.\n"
            "2. –ü—Ä–æ–¥–≤–∏–≥–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å—Ä–µ–¥–∏ –∂–∏—Ç–µ–ª–µ–π –≥–æ—Ä–æ–¥–∞.\n\n"
            "–í—Å—ë –æ—Å—Ç–∞–ª—å–Ω–æ–µ ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥ ‚Äî –±–µ—Ä—ë—Ç –Ω–∞ —Å–µ–±—è –∫–æ–º–∞–Ω–¥–∞ Good Day."
        ),
        "next": "franchise_step_7"
    },
    "franchise_step_7": {
        "text": (
            "üéÅ <b>–ß—Ç–æ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ –Ω–∞—à–µ–π —Ñ—Ä–∞–Ω—à–∏–∑–µ:</b>\n\n"
            "‚Ä¢ –ì–æ—Ç–æ–≤–æ–µ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ\n"
            "‚Ä¢ –ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–æ–≥–æ –∫—É—Ä–∞—Ç–æ—Ä–∞\n"
            "‚Ä¢ –û–±—É—á–µ–Ω–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏\n"
            "‚Ä¢ –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã\n"
            "‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫—É 24/7\n"
            "‚Ä¢ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–æ–¥–∏—Ç—å –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è (—Ñ–µ—Å—Ç–∏–≤–∞–ª–∏, –∫–≤–µ—Å—Ç—ã, —à–æ—É)"
        ),
        "next": "franchise_step_8"
    },
    "franchise_step_8": {
        "text": (
            "üöÄ <b>–≠—Ç–∞–ø—ã –∑–∞–ø—É—Å–∫–∞:</b>\n\n"
            "1. –ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –¥–æ–≥–æ–≤–æ—Ä–∞\n"
            "2. –û–±—É—á–µ–Ω–∏–µ –∏ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ø–ª–∞—Ç—Ñ–æ—Ä–º–æ–π\n"
            "3. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö –±–∏–∑–Ω–µ—Å–æ–≤\n"
            "4. –ó–∞–ø—É—Å–∫ —Ä–µ–∫–ª–∞–º–Ω–æ–π –∫–∞–º–ø–∞–Ω–∏–∏\n"
            "5. –ü—Ä–æ–≤–µ–¥–µ–Ω–∏–µ –ø–µ—Ä–≤–æ–≥–æ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è\n"
            "6. –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–µ—Ä–≤—ã—Ö –¥–æ—Ö–æ–¥–æ–≤"
        ),
        "next": "franchise_step_9"
    },
    "franchise_step_9": {
        "text": (
            "üìö <b>–û–±—É—á–µ–Ω–∏–µ –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞:</b>\n\n"
            "‚Ä¢ –û–Ω–ª–∞–π–Ω-–æ–±—É—á–µ–Ω–∏–µ –∏ –≤–µ–±–∏–Ω–∞—Ä—ã\n"
            "‚Ä¢ –ì–∞–π–¥—ã –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏\n"
            "‚Ä¢ –ü–æ—Å—Ç–æ—è–Ω–Ω–∞—è —Å–≤—è–∑—å —Å –∫—É—Ä–∞—Ç–æ—Ä–æ–º\n"
            "‚Ä¢ –ü–æ–º–æ—â—å –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π\n"
            "‚Ä¢ –†–µ–≥—É–ª—è—Ä–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã"
        ),
        "next": "franchise_step_10"
    },
    "franchise_step_10": {
        "text": (
            "üó£ <b>–û—Ç–∑—ã–≤—ã:</b>\n\n"
            "¬´–°–æ—Ç—Ä—É–¥–Ω–∏—á–µ—Å—Ç–≤–æ —Å Good Day —Å—Ç–∞–ª–æ –æ—Ç–ª–∏—á–Ω—ã–º —Å—Ç–∞—Ä—Ç–æ–º –≤ –±–∏–∑–Ω–µ—Å–µ. –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –∏ –ø–æ–Ω—è—Ç–Ω–∞—è –º–æ–¥–µ–ª—å —Ä–∞–±–æ—Ç—ã.¬ª\n\n"
            "¬´–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–æ –≤ –Ω–∞—à–µ–º –≥–æ—Ä–æ–¥–µ. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –¥–æ–≤–æ–ª—å–Ω—ã, –±–∏–∑–Ω–µ—Å—ã –ø–æ–ª—É—á–∞—é—Ç –Ω–æ–≤—ã—Ö –∫–ª–∏–µ–Ω—Ç–æ–≤, –∞ –º—ã ‚Äî —Å—Ç–∞–±–∏–ª—å–Ω—ã–π –¥–æ—Ö–æ–¥.¬ª"
        ),
        "next": "franchise_step_11"
    },
    "franchise_step_11": {
        "text": (
            "üíµ <b>–°—Ç–æ–∏–º–æ—Å—Ç—å —Ñ—Ä–∞–Ω—à–∏–∑—ã:</b>\n\n"
            "<b>–¢–∞—Ä–∏—Ñ ¬´–ë–∞–∑–æ–≤—ã–π¬ª</b> ‚Äî 200 000 —Ä—É–±–ª–µ–π\n"
            "–†–æ—è–ª—Ç–∏ ‚Äî 15%\n"
            "–õ—å–≥–æ—Ç–Ω—ã–π –ø–µ—Ä–∏–æ–¥: –ø–µ—Ä–≤—ã–µ 6 –º–µ—Å—è—Ü–µ–≤ ‚Äî –±–µ–∑ —Ä–æ—è–ª—Ç–∏\n\n"
            "<b>–¢–∞—Ä–∏—Ñ ¬´–°—Ç–∞–Ω–¥–∞—Ä—Ç¬ª</b> ‚Äî 300 000 —Ä—É–±–ª–µ–π\n"
            "–†–æ—è–ª—Ç–∏ ‚Äî 10%\n"
            "–ü–µ—Ä–≤—ã–µ 9 –º–µ—Å—è—Ü–µ–≤ ‚Äî –±–µ–∑ –≤—ã–ø–ª–∞—Ç –ø–æ —Ä–æ—è–ª—Ç–∏\n\n"
            "<b>–¢–∞—Ä–∏—Ñ ¬´–ë–∏–∑–Ω–µ—Å¬ª</b> ‚Äî 400 000 —Ä—É–±–ª–µ–π\n"
            "–†–æ—è–ª—Ç–∏ ‚Äî 5%\n"
            "–ü–µ—Ä–∏–æ–¥ –±–µ–∑ —Ä–æ—è–ª—Ç–∏ ‚Äî —Ü–µ–ª—ã–π –≥–æ–¥\n\n"
            "<b>–¢–∞—Ä–∏—Ñ ¬´–õ–∞–π—Ç¬ª</b> ‚Äî 100 000 —Ä—É–±–ª–µ–π\n"
            "–î–æ—Å—Ç—É–ø–µ–Ω –º–∏–Ω–∏–º—É–º –¥–ª—è –¥–≤—É—Ö —Ñ—Ä–∞–Ω—á–∞–π–∑–∏ –≤ –æ–¥–Ω–æ–º –≥–æ—Ä–æ–¥–µ\n"
            "–î–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–∏–≤–Ω—ã—Ö —Ü–µ–Ω—Ç—Ä–æ–≤ —Å—Ç–∞—Ä—Ç–æ–≤–∞—è —Å—É–º–º–∞ —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 100 000 —Ä—É–±–ª–µ–π\n\n"
            "<b>–û–∫—É–ø–∞–µ–º–æ—Å—Ç—å:</b> –æ—Ç 2 –¥–æ 4 –º–µ—Å—è—Ü–µ–≤\n\n"
            "<b>–ì–∞—Ä–∞–Ω—Ç–∏—è:</b>\n"
            "–ú—ã —É–≤–µ—Ä–µ–Ω—ã –≤ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç–∏ —Ñ—Ä–∞–Ω—à–∏–∑—ã –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º –≥–∞—Ä–∞–Ω—Ç–∏—é –≤–æ–∑–≤—Ä–∞—Ç–∞ –≤–ª–æ–∂–µ–Ω–∏–π.\n"
            "–í —Å–ª—É—á–∞–µ –Ω–µ–ø—Ä–µ–¥–≤–∏–¥—ë–Ω–Ω—ã—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤ —Å –≤–∞—à–µ–π —Å—Ç–æ—Ä–æ–Ω—ã –≤—ã —Å–º–æ–∂–µ—Ç–µ –≤–µ—Ä–Ω—É—Ç—å —Å—Ä–µ–¥—Å—Ç–≤–∞."
        ),
        "next": None
    }
}

@router.callback_query(lambda c: c.data.startswith("franchise_step_"))
async def franchise_steps_handler(callback: types.CallbackQuery):
    step = callback.data
    content = franchise_steps.get(step)
    if content:
        buttons = []
        if content["next"]:
            buttons.append([InlineKeyboardButton(text="‚û°Ô∏è –î–∞–ª–µ–µ", callback_data=content["next"])])
        buttons.append([InlineKeyboardButton(text="üîô –í –º–µ–Ω—é", callback_data="back_to_menu")])
        await callback.message.edit_text(content["text"], parse_mode=ParseMode.HTML,
                                         reply_markup=InlineKeyboardMarkup(inline_keyboard=buttons))
    await callback.answer()

@router.callback_query(F.data == "back_to_menu")
async def back_to_menu(callback: types.CallbackQuery):
            await callback.message.edit_text(
                "üì± <b>Good Day</b> ‚Äî —ç—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è–º–∏ –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏,\n"
                "–Ω–æ –∫–ª—é—á–µ–≤—ã–º –∏ –æ–±—ä–µ–¥–∏–Ω—è—é—â–∏–º –≤—Å—ë —è–≤–ª—è–µ—Ç—Å—è –Ω–∞—à–µ <b>–º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</b>. üì≤",
                parse_mode=ParseMode.HTML,
                reply_markup=main_menu
            )
            await callback.answer()
@router.callback_query(F.data == "download_presentation")
async def send_presentation(callback: types.CallbackQuery):
    try:
        file = FSInputFile("presentation.pdf")  # –∏–ª–∏ "files/presentation.pdf" –µ—Å–ª–∏ –≤ –ø–∞–ø–∫–µ
        await callback.message.answer_document(file, caption="üìÑ –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è —Ñ—Ä–∞–Ω—à–∏–∑—ã Good Day")
    except Exception as e:
        await callback.message.answer("‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—é. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.")
        print(f"–û—à–∏–±–∫–∞: {e}")
    await callback.answer()

@router.callback_query(F.data == "watch_video")
async def send_video(callback: types.CallbackQuery):
    try:
        video = FSInputFile("intro.mp4")  # –∏–ª–∏ "files/video.mp4"
        await callback.message.answer_video(video, caption="üé• –í–∏–¥–µ–æ-–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è Good Day")
    except Exception as e:
        await callback.message.answer("‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –≤–∏–¥–µ–æ. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.")
        print(f"–û—à–∏–±–∫–∞: {e}")
    await callback.answer()

async def main():
    await dp.start_polling(bot)

if __name__ == "__main__":
    keep_alive()  # –∑–∞–ø—É—Å–∫–∞–µ–º –≤–µ–±-—Å–µ—Ä–≤–µ—Ä –¥–ª—è —É–¥–µ—Ä–∂–∞–Ω–∏—è Replit "–∂–∏–≤—ã–º"
    asyncio.run(main())  # –∑–∞–ø—É—Å–∫–∞–µ–º –±–æ—Ç–∞



# –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É
@router.callback_query(F.data == "send_request")
async def send_request(callback: types.CallbackQuery):
    user = callback.from_user
    text = (
        f"üì¨ –ù–æ–≤–∞—è –∑–∞—è–≤–∫–∞!\n\n"
        f"–ò–º—è: {user.full_name}\n"
        f"–Æ–∑–µ—Ä–Ω–µ–π–º: @{user.username if user.username else '–Ω–µ—Ç'}\n"
        f"ID: {user.id}"
    )
    if ADMIN_ID:
        await bot.send_message(chat_id=int(ADMIN_ID), text=text)
    await callback.message.answer("‚úÖ –ó–∞—è–≤–∫–∞ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–∞! –ú—ã —Å–≤—è–∂–µ–º—Å—è —Å –í–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è.", reply_markup=main_menu)
    await callback.answer()

keep_alive()


if __name__ == "__main__":
    asyncio.run(main())
